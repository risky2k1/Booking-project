(()=>{"use strict";var t=function(t,e,a,o,r,s,i,n){var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),o&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},d._ssrRegister=l):r&&(l=n?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var m=d.render;d.render=function(t,e){return l.call(e),m(t,e)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:d}}({data:function(){return{form:{id:"",price:"",start_date:"",end_date:"",enable_person:0,min_guests:0,max_guests:0,active:0,number_of_rooms:1},formDefault:{id:"",price:"",start_date:"",end_date:"",enable_person:0,min_guests:0,max_guests:0,active:0,number_of_rooms:1},onSubmit:!1,calendar:null}},methods:{show:function(t){$("#modal-calendar").modal("show"),this.onSubmit=!1,void 0!==t&&(this.form=Object.assign({},t),t.start_date&&$(".modal-title").text(moment(t.start_date).format("MM/DD/YYYY")))},hide:function(){$("#modal-calendar").modal("hide"),this.form=Object.assign({},this.formDefault)},saveForm:function(){var t=this,e=this;this.onSubmit||this.validateForm()&&($("#modal-calendar").find(".btn-primary").addClass("button-loading"),this.onSubmit=!0,$.ajax({url:$("div[data-get-room-availability-url]").data("get-room-availability-url"),data:this.form,dataType:"json",method:"POST",success:function(a){a.error?Botble.showError(a.message):(t.calendar&&t.calendar.refetchEvents(),e.hide(),Botble.showSuccess(a.message)),e.onSubmit=!1,$("#modal-calendar").find(".btn-primary").removeClass("button-loading")},error:function(){e.onSubmit=!1,$("#modal-calendar").find(".btn-primary").removeClass("button-loading")}}))},validateForm:function(){return!!this.form.start_date&&this.form.end_date}},created:function(){var t=this;this.$nextTick((function(){$(t.$el).on("hide.bs.modal",(function(){this.form=Object.assign({},this.formDefault)}))}))},mounted:function(){var t,e=this;t=document.getElementById("dates-calendar"),this.calendar&&this.calendar.destroy(),this.calendar=new FullCalendar.Calendar(t,{headerToolbar:{left:"title"},navLinks:!0,editable:!1,dayMaxEvents:!1,events:{url:$("div[data-get-room-availability-url]").data("get-room-availability-url")},loading:function(e){e?$(t).addClass("loading"):$(t).removeClass("loading")},select:function(t){e.show({start_date:moment(t.start).format("YYYY-MM-DD"),end_date:moment(t.end).format("YYYY-MM-DD")})},eventClick:function(t){var a=Object.assign({},t.event.extendedProps);a.start_date=moment(t.event.start).format("YYYY-MM-DD"),a.end_date=moment(t.event.start).format("YYYY-MM-DD"),e.show(a)},eventRender:function(t){$(t.el).find(".fc-title").html(t.event.title)}}),this.calendar.render()}},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"dates-calendar",attrs:{id:"dates-calendar"}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-calendar"}},[a("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form_modal_calendar form-horizontal",attrs:{novalidate:"",onsubmit:"return false"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.__("room_availability.status")))]),t._v(" "),a("br"),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.active,expression:"form.active"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.form.active)?t._i(t.form.active,null)>-1:t._q(t.form.active,"1")},on:{change:function(e){var a=t.form.active,o=e.target,r=o.checked?"1":"0";if(Array.isArray(a)){var s=t._i(a,null);o.checked?s<0&&t.$set(t.form,"active",a.concat([null])):s>-1&&t.$set(t.form,"active",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.form,"active",r)}}}),t._v(" "+t._s(t.__("room_availability.is_available")))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.active,expression:"form.active"}],staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"price-input"}},[t._v(t._s(t.__("room_availability.price")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],staticClass:"form-control",attrs:{type:"number",id:"price-input"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",e.target.value)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.active,expression:"form.active"}],staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"number-of-rooms"}},[t._v(t._s(t.__("room_availability.number_of_rooms")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.number_of_rooms,expression:"form.number_of_rooms"}],staticClass:"form-control",attrs:{type:"number",id:"number-of-rooms"},domProps:{value:t.form.number_of_rooms},on:{input:function(e){e.target.composing||t.$set(t.form,"number_of_rooms",e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(t._s(t.__("room_availability.close")))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveForm}},[t._v(t._s(t.__("room_availability.save_changes")))])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"}),t._v(" "),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],!1,null,null,null);const e=t.exports;vueApp.booting((function(t){t.component("calendar-modal-component",e)}))})();